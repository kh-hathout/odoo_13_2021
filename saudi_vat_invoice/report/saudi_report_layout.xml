<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Bootstrap CSS -->
    <template id="external_layout_saudi">


        <td valign="middle" align="right">
            <img t-attf-src="data:image/*;base64,{{doc.company_id.logo}}"
                 style="margin: auto; display: block; height: 150px;"/>
            <!--                    <img src="/logo.png?company=${object.company_id.id}" style="padding: 0px; margin: 0px; height: auto; width: 80px;" alt="${object.company_id.name}"/>-->
        </td>

        <style>
            table {
            border-collapse: collapse;


            }
            th {
            background: #fff;
            padding: 8px;

            }

            th, td {
            border: 1px solid #b7b7b7;
            padding: 4px;
            font-weight:300 !important;
            font-size:14px;
            }

        </style>
        <div class="container" style="top: -12em;">
            <h4 style="text-align:center;color:#6f7576;">فاتورة ضريبية</h4>
            <br/>
            <h4 style="text-align:center;margin-bottom:3em;margin-top:-2em;color:#6f7576;">Tax Invoice</h4>

            <ul>
                <div class="col-md-6" style="margin-left: -40px !important;">
                    <table class="my_table" style="width:50%;border:2px solid #b7b7b7 !important;">
                        <tr>
                            <th>Invoice Number:</th>
                            <td>
                                <t t-esc="doc.name"></t>
                            </td>
                            <td>
                                <t t-esc="doc.name"></t>
                            </td>
                            <th>رقم الفاتورة</th>
                        </tr>
                    </table>
                    <br/>
                    <br/>

                    <table class="my_table" style="width:50%;border:2px solid #b7b7b7 !important;">
                        <tr>
                            <th>Invoice Issue Date:</th>
                            <td style="width:50px !important;">
                                <t t-esc="doc.date_issue"></t>
                            </td>
                            <td style="width:50px !important;">
                                <t t-esc="doc.date_issue"></t>
                            </td>

                            <th>تاريخ إصدار الفاتورة</th>
                        </tr>
                        <tr>
                            <th>Date of Supply:</th>
                            <td style="width:50px !important;">
                                <t t-esc="doc.date_supply"></t>
                            </td>
                            <td style="width:50px !important;">
                                <t t-esc="doc.date_supply"></t>
                            </td>
                            <th>تاريخ التوريد</th>
                        </tr>
                    </table>
                </div>
                <div style="float: right !important; margin-top:-150px;">

                    <img t-attf-src="data:image/*;base64,{{doc.qr_code}}" style="width:180px; height:180px;"/>


                </div>
            </ul>

        </div>

        <br/>
        <br/>

        <table class="my_table" style="width:100%;border:2px solid #b7b7b7 !important;">
            <tr>
                <th colspan="2" style="background-color:#999999;color:#fff;text-align: left;">Seller</th>
                <th colspan="2" style="background-color:#999999;color:#fff;text-align: right;">اسم</th>
                <th colspan="2" style="background-color:#999999;color:#fff;text-align: left;">Buyer</th>
                <th colspan="2" style="background-color:#999999;color:#fff;text-align: right;">مشتر</th>
            </tr>
            <tr>
                <th style="text-align: left;width: 15% !important;">Name</th>
                <th style="width: 15% !important;">
                    <t t-esc="doc.company_id.name"></t>
                </th>
                <th>
                    <t t-esc="doc.company_id.name_arabic"></t>
                </th>
                <th style="text-align: right;width: 15% !important;">رقم المبنى</th>
                <th style="text-align: left;width: 15% !important;">Name</th>
                <th>
                    <t t-esc="doc.partner_id.name"></t>
                </th>
                <td style="width: 10% !important;">
                    <t t-esc="doc.partner_id.name_arabic"></t>
                </td>
                <th style="text-align: right;width: 15% !important;">اسم</th>
            </tr>
            <tr>
                <td style="text-align: left;width: 15% !important;">Building No.</td>
                <td>
                    <t t-esc="doc.company_id.building_number"></t>
                </td>
                <td></td>
                <td style="text-align: right;">رقم المبنى</td>
                <td style="text-align: left;">Building No.</td>
                <td>
                    <t t-esc="doc.partner_id.building_number"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.building_number_arabic"></t>
                </td>
                <td style="text-align: right;">رقم المبنى</td>
            </tr>
            <tr>
                <td style="text-align: left;">Street name</td>
                <td>
                    <t t-esc="doc.company_id.street"></t>
                </td>
                <td>
                    <t t-esc="doc.company_id.street_arabic"></t>
                </td>
                <td style="text-align: right;">اسم الشارع</td>
                <td style="text-align: left;">Street name</td>
                <td>
                    <t t-esc="doc.partner_id.street"></t>
                </td>
                <th>
                    <t t-esc="doc.partner_id.street_arabic"></t>
                </th>
                <td style="text-align: right;">اسم الشارع</td>
            </tr>
            <tr>
                <td style="text-align: left;">District</td>
                <td>
                    <t t-esc="doc.company_id.district_id.name"></t>
                </td>
                <td>
                    <t t-esc="doc.company_id.district_id_arabic"></t>
                </td>
                <td style="text-align: right;">منطقة</td>
                <td style="text-align: left;">District</td>
                <td>
                    <t t-esc="doc.partner_id.district_id.name"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.district_id_arabic"></t>
                </td>
                <td style="text-align: right;">منطقة</td>
            </tr>
            <tr>
                <td style="text-align: left;">City</td>
                <td>
                    <t t-esc="doc.company_id.city"></t>
                </td>
                <td>
                    <t t-esc="doc.company_id.city_arabic"></t>
                </td>
                <td style="text-align: right;">مدينة</td>
                <td style="text-align: left;">City</td>
                <td>
                    <t t-esc="doc.partner_id.city"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.city_arabic"></t>
                </td>
                <td style="text-align: right;">مدينة</td>
            </tr>
            <tr>
                <td style="text-align: left;">Country</td>
                <td>
                    <t t-esc="doc.company_id.country_id.name"></t>
                </td>
                <td>
                    <t t-esc="doc.company_id.country_arabic"></t>
                </td>
                <td style="text-align: right;">بلد</td>
                <td style="text-align: left;">Country</td>
                <td>
                    <t t-esc="doc.partner_id.country_id.name"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.country_arabic"></t>
                </td>
                <td style="text-align: right;">بلد</td>
            </tr>
            <tr>
                <td style="text-align: left;">Postal Code</td>
                <td>
                    <t t-esc="doc.company_id.zip"></t>
                </td>
                <td>
                    <t t-esc="doc.company_id.zip_arabic"></t>
                </td>
                <td style="text-align: right;">رمز بريدي</td>
                <td style="text-align: left;">Postal Code</td>
                <td>
                    <t t-esc="doc.partner_id.zip"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.zip_arabic"></t>
                </td>
                <td style="text-align: right;">رمز بريدي</td>
            </tr>
            <tr>
                <td style="text-align: left;">Additional No.</td>
                <td>
                    <t t-esc="doc.company_id.additional_no"></t>
                </td>
                <td>
                    <t t-esc="doc.company_id.additional_no_arabic"/>
                </td>
                <td style="text-align: right;">رقم إضافي</td>
                <td style="text-align: left;">Additional No.</td>
                <td>
                    <t t-esc="doc.partner_id.additional_no"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.additional_no_arabic"></t>
                </td>
                <td style="text-align: right;">رقم إضافي</td>
            </tr>
            <tr>
                <td style="text-align: left;">VAT Number:</td>
                <td>
                    <t t-esc="doc.company_id.vat"></t>
                </td>
                <td style="width: 10% !important;"></td>
                <td style="text-align: right;">ظريبه الشراء</td>
                <td style="text-align: left;">VAT Number:</td>
                <td>
                    <t t-esc="doc.partner_id.vat"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.vat_in_arabic"></t>
                </td>
                <td style="text-align: right;">ظريبه الشراء</td>
            </tr>
            <tr>
                <td style="text-align: left;">Other Seller ID:</td>
                <td>
                    <t t-esc="doc.company_id.other_seller_id"></t>
                </td>
                <td style="width: 10% !important;"></td>
                <td style="text-align: right;">معرف البائع الآخر</td>
                <td style="text-align: left;">Other Seller ID:</td>
                <td>
                    <t t-esc="doc.partner_id.other_seller_id"></t>
                </td>
                <td>
                    <t t-esc="doc.partner_id.other_seller_id_arabic"></t>
                </td>
                <td style="text-align: right;">معرف البائع الآخر</td>
            </tr>
        </table>

        <br/>

        <br/>
        <table class="table table-sm o_main_table" style="width:100%;background-color:#999999;">
            <thead>
                <tr>
                    <td style="text-align:left;color:#fff !important;">Line Items</td>
                    <td style="text-align:right;color:#fff !important;">العناصر</td>
                </tr>
            </thead>
        </table>
        <table class="table table-sm o_main_table" style="width:100%">
            <thead style="display: table-row-group">
                <th name="th_description" class="text-left"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Nature of goods or service
                    <br/>
                    طبيعة البضاعة أو الخدمة
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Unit price<br/>سعر الوحدة
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Quantity<br/>كمية
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Taxable Amount<br/>المبلغ الخاضع للضريبة
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Discount<br/>خصم
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Tax Rate<br/>معدل الضريبة
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Tax Amount<br/>قيمة الضريبة
                </th>
                <th name="th_quantity" class="text-right"
                    style="font-weight:500 !important;text-align:center !important;color:#fff !important;background-color:#727272 !important;font-size:12px !important;padding:10px !imporatnt;">
                    Item Subtotal<br/>(Including VAT)<br/>المجموع الفرعي للعنصر
                    <br/>
                    (بما في ذلك ضريبة القيمة المضافة)
                </th>

            </thead>
            <tbody class="sale_tbody">
                <tr t-foreach="doc.invoice_line_ids" t-as="line">
                    <t t-set="tax_total" t-value="0"/>
                    <t t-foreach="line.tax_ids" t-as="t">
                        <t t-set="tax_total" t-value="tax_total+t.amount"/>
                    </t>
                    <td style="border:solid black 1px;">
                        <span t-esc="line.name"/>
                    </td>
                    <td style="border:solid black 1px;">
                        <span t-esc="line.price_unit"/>
                    </td>
                    <td style="border:solid black 1px;">
                        <span t-esc="line.quantity"/>
                    </td>
                    <td style="border:solid black 1px;">
                        <t t-set="total" t-value="(line.price_unit-line.discount)*(line.quantity)"></t>
                        <t t-esc="total"/>
                    </td>
                    <td style="border:solid black 1px;">
                        <span t-esc="line.discount"/>
                    </td>
                    <td style="border:solid black 1px;">
                        <t t-foreach="line.tax_ids" t-as="t">
                            <span t-esc="'%.2f'%(t.amount)"/>
                        </t>
                        <span t-if="not line.tax_ids">0.0</span>
                    </td>
                    <td style="border:solid black 1px;">
                        <t t-set="tax_total" t-value="line.price_subtotal*tax_total/100"/>
                        <sapn t-esc="'%.2f'%(tax_total)"/>
                    </td>
                    <td style="border:solid black 1px;">
                        <t t-set="amt_total" t-value="tax_total+total"/>
                        <sapn t-esc="amt_total"/>
                    </td>
                </tr>
            </tbody>
        </table>
        <br/>

        <br/>
        <table class="table table-sm o_main_table" style="width:100%;background-color:#999999;">
            <thead>
                <tr>
                    <td style="text-align:left;width:50% !important;color:#fff !important;padding:8px !important;">
                        Total Amounts:
                    </td>
                    <td style="text-align:right;color:#fff !important;padding:8px !important;">المبالغ الإجمالية</td>
                </tr>
            </thead>
        </table>
        <table class="my_table" style="width:100%">
            <tr>
            </tr>
            <tr>
                <td style="width:30% !important"></td>
                <td>Total (VAT Excluding)</td>
                <td style="width:30% !important;text-align: right;"><p>الإجمالي</p><p>(متضمن ضريبة القيمة المضافة)</p></td>
                <td style="width:10% !important">
                    <t t-esc="doc.get_amount_vat_exclude()"></t>
                </td>
            </tr>
            <tr>
                <td style="width:40% !important"></td>
                <td>Discount</td>
                <td style="text-align: right;">خصم</td>
                <td style="width:10% !important">
                    <t t-esc="doc.get_discount()"></t>
                </td>
            </tr>
            <tr>
                <td style="width:40% !important"></td>
                <td>Total Taxable Amount (Excluding VAT)</td>
                <td style="text-align: right;">إجمالي المبلغ الخاضع للضريبة (باستثناء ضريبة القيمة المضافة)</td>
                <td style="width:10% !important">
                    <t t-esc="doc.amount_untaxed"></t>
                </td>
                <!--                <t t-esc="doc.amount_untaxed"></t>-->
            </tr>
            <tr>
                <td style="width:40% !important"></td>
                <td>Total VAT</td>
                <td style="text-align: right;">إجمالي ضريبة القيمة المضافة</td>
                <td style="width:10% !important">
                    <t t-esc="doc.amount_tax"></t>
                </td>
            </tr>
            <tr>
                <td style="width:40% !important"></td>
                <td>Total Amount Due</td>
                <td style="text-align: right;">إجمالي المبلغ المستحق</td>
                <td style="width:10% !important">
                    <t t-esc="doc.amount_residual"></t>
                </td>
            </tr>
        </table>


    </template>
</odoo>
<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <record id="email_template_sh_sale_order" model="mail.template">
            <field name="name">Sales Order: Approve Order</field>
            <field name="model_id" ref="sh_sale_dynamic_approval.model_sale_order" />
            <field name="subject">Submit for Approval</field>
            <field name="email_from"></field>
            <field name="partner_to"></field>

            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <h2>
                            <b>Submit for Approval: ${object.name}</b>
                        </h2>
                        <br />
                        <br />
                        <p>
                            Dear Approver,
                            <br />
                            <br />
                            This is inform you that order is submitted for approval.
                            <br />
                            <b>Sales Person:</b>
                            ${object.user_id.name}
                            <br />
                            <b>Total Amount:</b>
                            ${format_amount(object.amount_total, object.currency_id)}
                            <br />
                            <b>Approval Level:</b>
                            ${object.approval_level_id.name}
                            <br />
                            <b>Minimum Amount:</b>
                            ${format_amount(object.approval_level_id.min_amount, object.currency_id)}
                            <br />
                            <br />
                            order Approval information as below
                        </p>
                        <br />
                        <br />
                        
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Level</th>
                                    <th scope="col">Approvers</th>
                                    <th scope="col">Approved Date</th>
                                    <th scope="col">Approved By</th>
                                    <th scope="col">Status</th>
                                </tr>
                            </thead>
                            % for line in object.approval_info_line:
                                <tbody>
                                    <tr>
                                        <th>${line.level}</th>
                                        <td>
                                            % if line.user_ids:
                                                % for user in line.user_ids:
                                                    <i>${user.name},</i>
                                                % endfor

                                            % else:
                                                % for group in line.group_ids:
                                                    <i>${group.name},</i>
                                                % endfor
                                                
                                            % endif
                                        </td>
                                        <td>${line.approval_date}</td>
                                        <td>${line.approved_by.name}</td>
                                        <td>${line.status}</td>
                                    </tr>
                                </tbody>
                            % endfor
                        </table>
                        <br />
                        <br />
                        if you are authorize approver as per approval level.<br />
                        You can use the following link and approve the order<br /><br />

                        <div style="display: inline-block; margin: 15px; text-align: center">
                            <a href="/mail/view?model=sale.order&amp;res_id=${object.id}" target="_blank"
                                style="padding: 5px 10px; color: #FFFFFF; text-decoration: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius: 3px"
                            >Order Ref: #${object.name}</a>
                        </div><br />
                        Thanks,
                    </p>
                </div>
            </field>
        </record>

        <record id="email_template_reject_sh_sale_order" model="mail.template">
            <field name="name">Sales Order: Reject Order</field>
            <field name="model_id" ref="sh_sale_dynamic_approval.model_sale_order" />
            <field name="subject">Reject Order</field>
            <field name="email_from"></field>
            <field name="partner_to"></field>

            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <h2>
                            <b>Order Rejected: ${object.name}</b>
                        </h2>
                        <br />
                        <br />
                        Dear Sales Person,
                        <br />
                        <br />
                        Rejected Order Information.<br />
                        <table class="table table-bordered">
                            <thead>
                                <tr>
                                    <th scope="col">Date</th>
                                    <th scope="col">Reject By</th>
                                    <th scope="col">Reason</th>
                                </tr>
                            </thead>
                            <tbody>
                                <td>${object.rejection_date}</td>
                                <td>${object.reject_by.name}</td>
                                <td>${object.reject_reason}</td>
                            </tbody>
                        </table><br /><br />
                        You can use the following link to access the sale order.<br /><br />
                        <div style="display: inline-block; margin: 15px; text-align: center">
                            <a href="/mail/view?model=sale.order&amp;res_id=${object.id}" target="_blank"
                                style="padding: 5px 10px; color: #FFFFFF; text-decoration: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius: 3px"
                            >Order Ref: #${object.name}</a>
                        </div><br />
                        Thanks,
                    </p>
                </div>
            </field>
        </record>

        <record id="email_template_confirm_sh_sale_order" model="mail.template">
            <field name="name">Sales Order: Confirm Order</field>
            <field name="model_id" ref="sh_sale_dynamic_approval.model_sale_order" />
            <field name="subject">Confirm Order</field>
            <field name="email_from"></field>
            <field name="partner_to"></field>

            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        <h2>
                            <b>Order Confirmed: ${object.name}</b>
                        </h2>
                        <br />
                        <br />
                        Dear SalesPerson,
                        <br />
                        <br />
                        This is inform you that your order is confirmed.<br />
                        You can use the following link to access the sale order.<br /><br />
                        <div style="display: inline-block; margin: 15px; text-align: center">
                            <a href="/mail/view?model=sale.order&amp;res_id=${object.id}" target="_blank"
                                style="padding: 5px 10px; color: #FFFFFF; text-decoration: none; background-color: #875A7B; border: 1px solid #875A7B; border-radius: 3px"
                            >Order Ref: #${object.name}</a>
                        </div><br />
                        Thanks,
                    </p>
                </div>
            </field>
        </record>
    </data>
</odoo>
